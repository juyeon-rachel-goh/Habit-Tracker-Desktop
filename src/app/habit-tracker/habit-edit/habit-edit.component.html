<div class="container w-50">
  <form
    [formGroup]="habitForm"
    (ngSubmit)="onSubmit()"
    class="form-width mx-auto"
  >
    <div class="heading">Add A New Habit</div>

    <!-- Name of the habit -->
    <div class="sub-heading">
      <app-textfield
        label="Name"
        id="habitName"
        [inputFormControl]="habitForm.get('habitName') | asFormControl"
      ></app-textfield>
    </div>

    <!-- Frequency  -->
    <div class="sub-heading">Frequency</div>
    <div>
      <div *ngFor="let frequency of enumFrequency | keys">
        <input
          type="radio"
          value="{{ frequency }}"
          [formControl]="habitForm.get('frequency') | asFormControl"
        />
        <label for="{{ frequency }}">{{ frequency }}</label>
      </div>
      <div class="sub-heading">Goal</div>
      <app-textfield
        label="Count per Frequency"
        type="number"
        [inputFormControl]="habitForm.get('countPerFreq') | asFormControl"
      ></app-textfield>
    </div>

    <!-- Icon Picker -->
    <div>
      <div class="sub-heading">Pick an Icon</div>
      <span class="px-1" *ngFor="let img of enumIconImage | keys">
        <app-icon-selector
          [iconFormControl]="habitForm.get('iconImage') | asFormControl"
          name="iconImage"
          value="{{ img }}"
          icon="{{ img }}"
        ></app-icon-selector>
      </span>
      <button type="button" (click)="onSelectRandIconImg()">Random</button>
    </div>

    <!-- Color Picker -->
    <div>
      <div class="sub-heading">Pick a Color</div>
      <span class="px-1" *ngFor="let color of enumIconColor | keys">
        <app-icon-selector
          [iconFormControl]="habitForm.get('iconColor') | asFormControl"
          name="iconColor"
          value="{{ color }}"
          style.color="{{ color }}"
          icon="lens"
        ></app-icon-selector>
      </span>
      <button type="button" (click)="onSelectRandIconColor()">Random</button>
    </div>

    <div class="py-5">
      <button
        mat-flat-button
        type="button"
        color="accent"
        [routerLink]="['../']"
      >
        Cancel
      </button>
      <span class="px-2"></span>
      <button
        mat-flat-button
        type="submit"
        color="primary"
        [disabled]="!habitForm.valid"
      >
        Save
      </button>
    </div>
  </form>
</div>
